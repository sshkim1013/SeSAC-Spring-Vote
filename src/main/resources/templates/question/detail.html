<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="${question.title}">"</title>
</head>
<body>
    <h1 th:text="${question.title}"></h1>

    <table>
        <thead>
            <tr>
              <th th:text="${question.optionA}"></th>
              <th>vs</th>
              <th th:text="${question.optionB}"></th>
            </tr>
        </thead>
    </table>
    <hr>

    <h3>투표하기</h3>
    <p>선택</p>
    <form th:action="@{/questions/{id}(id=${question.id})}"
          th:object="${answer}"
          method="post"
    >
      <select th:field="*{answerText}" required>
        <option value="" selected>=== 선택하세요 ===</option>
        <option value="A">
          <p th:text="${question.optionA} + '(A)'"></p>
        </option>
        <option value="B">
          <p th:text="${question.optionB} + '(B)'"></p>
        </option>
      </select>

      <p>의견</p>
      <label for="content"></label>
      <textarea rows="3"
                th:field="*{content}"
                id="content"
                placeholder="선택 이유를 적어주세요"
      >
      </textarea>

        <br>
        <br>

      <button type="submit">투표하기</button>
    </form>
    <hr>

    <h3>투표 결과</h3>
    <div>
      <span th:each="answer : ${answers}">
        <p th:text="${answer.answerText} + '-' + ${answer.content}"></p>
      </span>
    </div>

</body>
</html>
